-- CARGA DE LIBRERÍA 
local library = loadstring(game:HttpGet("https://raw.githubusercontent.com/EL-INDIGO15/dyros/refs/heads/main/libreria"))() 

-- OBTENER NOMBRE DEL JUGADOR 
local player = game.Players.LocalPlayer 
local displayName = player.DisplayName or player.Name 

-- OPCIONES DE LA VENTANA (separadas para poder cambiar el color después)
local options = {
    main_color = Color3.fromRGB(220, 20, 60),  -- Color inicial (rojo original)
    min_size = Vector2.new(600, 820),
    can_resize = false,
}

-- VENTANA PRINCIPAL
local window = library:AddWindow("HadesHub|Bienvenid@ I love you " .. displayName, options)

-- LISTA DE COLORES PARA LA ANIMACIÓN (rojos + naranja + amarillo)
local colores = {
    Color3.fromRGB(220, 20, 60),   -- Rojo original (Crimson)
    Color3.fromRGB(255, 102, 102), -- Rojo claro
    Color3.fromRGB(255, 0, 0),     -- Rojo fuerte / puro
    Color3.fromRGB(255, 140, 0),   -- Naranja oscuro (Dark Orange)
    Color3.fromRGB(255, 165, 0),   -- Naranja normal
    Color3.fromRGB(255, 215, 0),   -- Amarillo dorado
    Color3.fromRGB(255, 255, 0),   -- Amarillo puro
}

-- ANIMACIÓN DE COLOR (cambia suavemente entre todos los colores)
task.spawn(function()
    local indice = 1
    while true do
        local colorActual = colores[indice]
        local colorSiguiente = colores[indice % #colores + 1]

        -- Transición suave entre color actual y siguiente (50 pasos)
        for i = 0, 50 do
            local alpha = i / 50
            options.main_color = colorActual:Lerp(colorSiguiente, alpha)
            task.wait(0.05)  -- Velocidad de la animación (ajusta si quieres más rápido/lento)
        end

        indice = indice % #colores + 1  -- Pasa al siguiente color
    end
end) 

local AutoFarm = window:AddTab("Main+") 

-- 2️⃣ Switch: Eat Egg 
local autoEatEnabled = false 
local function eatProteinEggNew() 
    local player = game.Players.LocalPlayer 
    local backpack = player:WaitForChild("Backpack") 
    local character = player.Character or player.CharacterAdded:Wait() 

    local egg = backpack:FindFirstChild("Protein Egg") 
    if egg then 
        egg.Parent = character 
        pcall(function() 
            egg:Activate() 
        end) 
        print("[AutoEgg] Protein Egg consumido.") 
    else 
        warn("[AutoEgg] No se encontró Protein Egg en Backpack.") 
    end 
end 

task.spawn(function() 
    while true do 
        if autoEatEnabled then 
            eatProteinEggNew() 
            task.wait(1800) 
        else 
            task.wait(1) 
        end 
    end 
end) 

AutoFarm:AddSwitch("I love you ♥️", function(state) 
    autoEatEnabled = state 
    print(state and "[AutoEgg] Activado." or "[AutoEgg] Desactivado.") 
end) 


AutoFarm:AddSwitch("Hide All Frames", function(bool) 
    local rSto = game:GetService("ReplicatedStorage") 
    for _, obj in pairs(rSto:GetChildren()) do 
        if obj.Name:match("Frame$") then 
            obj.Visible = not bool 
        end 
    end 
end) 


AutoFarm:AddSwitch("Anti Lag", function() 
    for _, v in pairs(game:GetDescendants()) do 
        if v:IsA("ParticleEmitter") or v:IsA("Smoke") or v:IsA("Fire") or v:IsA("Sparkles") then 
            v.Enabled = false 
        end 
    end 

    local lighting = game:GetService("Lighting") 
    lighting.GlobalShadows = false 
    lighting.FogEnd = 9e9 
    lighting.Brightness = 0 

    settings().Rendering.QualityLevel = 1 

    for _, v in pairs(game:GetDescendants()) do 
        if v:IsA("Decal") or v:IsA("Texture") then 
            v.Transparency = 1 
        elseif v:IsA("BasePart") and not v:IsA("MeshPart") then 
            v.Material = Enum.Material.SmoothPlastic 
            if v.Parent and (v.Parent:FindFirstChild("Humanoid") or v.Parent.Parent:FindFirstChild("Humanoid")) then 
            else 
                v.Reflectance = 0 
            end 
        end 
    end 

    for _, v in pairs(lighting:GetChildren()) do 
        if v:IsA("BlurEffect") or v:IsA("SunRaysEffect") or v:IsA("ColorCorrectionEffect") or v:IsA("BloomEffect") or v:IsA("DepthOfFieldEffect") then 
            v.Enabled = false 
        end 
    end 

    game:GetService("StarterGui"):SetCore("SendNotification", { 
        Title = "anti lag activado", 
        Text = "Full optimization applied!", 
        Duration = 5 
    }) 
end) 


AutoFarm:AddSwitch("Full antilag", function(State) 
    local lighting = game:GetService("Lighting") 
    if State then 
        for _, gui in pairs(LocalPlayer.PlayerGui:GetChildren()) do 
            if gui:IsA("ScreenGui") then gui:Destroy() end 
        end 
        for _, obj in pairs(workspace:GetDescendants()) do 
            if obj:IsA("ParticleEmitter") or obj:IsA("PointLight") or obj:IsA("SpotLight") or obj:IsA("SurfaceLight") then 
                obj:Destroy() 
            end 
        end 
        for _, v in pairs(lighting:GetChildren()) do 
            if v:IsA("Sky") then v:Destroy() end 
        end 
        local darkSky = Instance.new("Sky") 
        darkSky.Name = "DarkSky" 
darkSky.SkyboxBk = "rbxassetid://0" 
        darkSky.SkyboxDn = "rbxassetid://0" 
        darkSky.SkyboxFt = "rbxassetid://0" 
        darkSky.SkyboxLf = "rbxassetid://0" 
        darkSky.SkyboxRt = "rbxassetid://0" 
        darkSky.SkyboxUp = "rbxassetid://0" 
        darkSky.Parent = lighting 
        lighting.Brightness = 0 
        lighting.ClockTime = 0 
        lighting.TimeOfDay = "00:00:00" 
        lighting.OutdoorAmbient = Color3.new(0,0,0) 
        lighting.Ambient = Color3.new(0,0,0) 
        lighting.FogColor = Color3.new(0,0,0) 
        lighting.FogEnd = 100 
        task.spawn(function() 
            while State do 
                task.wait(5) 
                if not lighting:FindFirstChild("DarkSky") then 
                    darkSky:Clone().Parent = lighting 
                end 
            end 
        end) 
    end 
end) 


AutoFarm:AddSwitch("Anti AFK", function(state) 
    if state then 

        if getgenv().AntiAfkExecuted and game.CoreGui:FindFirstChild("thisoneissocoldww") then 
            getgenv().AntiAfkExecuted = false 
            getgenv().zamanbaslaticisi = false 
            game.CoreGui.thisoneissocoldww:Destroy() 
        end 
        getgenv().AntiAfkExecuted = true 

        local thisoneissocoldww = Instance.new("ScreenGui") 
        local madebybloodofbatus = Instance.new("Frame") 
        local UICornerw = Instance.new("UICorner") 
        local DestroyButton = Instance.new("TextButton") 
        local uselesslabelone = Instance.new("TextLabel") 
        local timerlabel = Instance.new("TextLabel") 
        local uselesslabeltwo = Instance.new("TextLabel") 
        local fpslabel = Instance.new("TextLabel") 
        local uselesslabelthree = Instance.new("TextLabel") 
        local pinglabel = Instance.new("TextLabel") 
        local uselessframeone = Instance.new("Frame") 
        local UICornerww = Instance.new("UICorner") 
        local uselesslabelfour = Instance.new("TextLabel") 

        thisoneissocoldww.Name = "thisoneissocoldww" 
        thisoneissocoldww.Parent = game.CoreGui 
        thisoneissocoldww.ZIndexBehavior = Enum.ZIndexBehavior.Sibling 

        madebybloodofbatus.Name = "madebybloodofbatus" 
        madebybloodofbatus.Parent = thisoneissocoldww 
        madebybloodofbatus.BackgroundColor3 = Color3.fromRGB(30, 30, 30) 
        madebybloodofbatus.Position = UDim2.new(0.085,0,0.13,0) 
        madebybloodofbatus.Size = UDim2.new(0,225,0,96) 
        UICornerw.Parent = madebybloodofbatus 

        DestroyButton.Name = "DestroyButton" 
        DestroyButton.Parent = madebybloodofbatus 
        DestroyButton.BackgroundTransparency = 1 
        DestroyButton.Position = UDim2.new(0.87,0,0.02,0) 
        DestroyButton.Size = UDim2.new(0,27,0,15) 
        DestroyButton.Font = Enum.Font.SourceSans 
        DestroyButton.Text = "X" 
        DestroyButton.TextColor3 = Color3.fromRGB(255,255,255) 
        DestroyButton.TextSize = 14 
        DestroyButton.MouseButton1Click:Connect(function() 
            getgenv().AntiAfkExecuted = false 
            wait(0.1) 
            thisoneissocoldww:Destroy() 
        end) 

        uselesslabelone.Parent = madebybloodofbatus 
        uselesslabelone.BackgroundTransparency = 1 
        uselesslabelone.Position = UDim2.new(0.3,0,0,0) 
        uselesslabelone.Size = UDim2.new(0,95,0,24) 
        uselesslabelone.Font = Enum.Font.SourceSans 
        uselesslabelone.Text = "Anti Afk" 
        uselesslabelone.TextColor3 = Color3.fromRGB(255,255,255) 
        uselesslabelone.TextSize = 14 

        timerlabel.Parent = madebybloodofbatus 
        timerlabel.BackgroundTransparency = 1 
        timerlabel.Position = UDim2.new(0.65,0,0.68,0) 
        timerlabel.Size = UDim2.new(0,60,0,24) 
        timerlabel.Font = Enum.Font.SourceSans 
        timerlabel.Text = "0:0:0" 
        timerlabel.TextColor3 = Color3.fromRGB(255,255,255) 
        timerlabel.TextSize = 14 

        uselesslabeltwo.Parent = madebybloodofbatus 
        uselesslabeltwo.BackgroundTransparency = 1 
        uselesslabeltwo.Position = UDim2.new(0.03,0,0.37,0) 
        uselesslabeltwo.Size = UDim2.new(0,29,0,24) 
        uselesslabeltwo.Font = Enum.Font.SourceSans 
        uselesslabeltwo.Text = "Ping: " 
        uselesslabeltwo.TextColor3 = Color3.fromRGB(255,255,255) 
        uselesslabeltwo.TextSize = 14 

        fpslabel.Parent = madebybloodofbatus 
        fpslabel.BackgroundTransparency = 1 
        fpslabel.Position = UDim2.new(0.72,0,0.35,0) 
        fpslabel.Size = UDim2.new(0,55,0,24) 
        fpslabel.Font = Enum.Font.SourceSans 
        fpslabel.Text = "0" 
        fpslabel.TextColor3 = Color3.fromRGB(255,255,255) 
        fpslabel.TextSize = 14 

        uselesslabelthree.Parent = madebybloodofbatus 
        uselesslabelthree.BackgroundTransparency = 1 
        uselesslabelthree.Position = UDim2.new(0.5,0,0.35,0) 
        uselesslabelthree.Size = UDim2.new(0,26,0,24) 
        uselesslabelthree.Font = Enum.Font.SourceSans 
        uselesslabelthree.Text = "Fps: " 
        uselesslabelthree.TextColor3 = Color3.fromRGB(255,255,255) 
        uselesslabelthree.TextSize = 14 

        pinglabel.Parent = madebybloodofbatus 
        pinglabel.BackgroundTransparency = 1 
        pinglabel.Position = UDim2.new(0.2,0,0.37,0) 
        pinglabel.Size = UDim2.new(0,55,0,24) 
        pinglabel.Font = Enum.Font.SourceSans 
        pinglabel.Text = "0" 
        pinglabel.TextColor3 = Color3.fromRGB(255,255,255) 
        pinglabel.TextSize = 14 
        pinglabel.TextWrapped = true 

        uselessframeone.Parent = madebybloodofbatus 
        uselessframeone.BackgroundColor3 = Color3.fromRGB(255,255,255) 
        uselessframeone.Position = UDim2.new(0.004,0,0.24,0) 
        uselessframeone.Size = UDim2.new(0,224,0,5) 
        UICornerww.CornerRadius = UDim.new(0,50) 
        UICornerww.Parent = uselessframeone 

        uselesslabelfour.Parent = madebybloodofbatus 
        uselesslabelfour.BackgroundTransparency = 1 
        uselesslabelfour.Position = UDim2.new(0.05,0,0.81,0) 
        uselesslabelfour.Size = UDim2.new(0,95,0,12) 
        uselesslabelfour.Font = Enum.Font.SourceSans 
        uselesslabelfour.Text = "Anti-Afk Auto Enabled" 
        uselesslabelfour.TextColor3 = Color3.fromRGB(255,255,255) 
        uselesslabelfour.TextSize = 14 


        local Drag = madebybloodofbatus 
        local gsTween = game:GetService("TweenService") 
        local UserInputService = game:GetService("UserInputService") 
        local dragging, dragInput, dragStart, startPos 
        local function update(input) 
            local delta = input.Position - dragStart 
            local dragTime = 0.04 
            local SmoothDrag = {} 
            SmoothDrag.Position = UDim2.new(startPos.X.Scale,startPos.X.Offset+delta.X,startPos.Y.Scale,startPos.Y.Offset+delta.Y) 
            gsTween:Create(Drag,TweenInfo.new(dragTime,Enum.EasingStyle.Sine,Enum.EasingDirection.InOut),SmoothDrag):Play() 
        end 
        Drag.InputBegan:Connect(function(input) 
            if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then 
                dragging = true 
                dragStart = input.Position 
                startPos = Drag.Position 
                input.Changed:Connect(function() 
                    if input.UserInputState == Enum.UserInputState.End then dragging = false end 
                end) 
            end 
        end) 
        Drag.InputChanged:Connect(function(input) 
            if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then 
                dragInput = input 
            end 
        end) 
        UserInputService.InputChanged:Connect(function(input) 
            if input == dragInput and dragging then update(input) end 
        end) 


        local vu = game:GetService('VirtualUser') 
        game.Players.LocalPlayer.Idled:Connect(function() 
            vu:CaptureController() 
            vu:ClickButton2(Vector2.new()) 
        end) 


        local RunService = game:GetService("RunService") 
        local sec = tick() 
        local FPS = {} 
        RunService.RenderStepped:Connect(function() 
            local fr = tick() 
            for i=#FPS,1,-1 do FPS[i+1] = (FPS[i]>=fr-1) and FPS[i] or nil end 
            FPS[1] = fr 
            local fps = math.floor((tick()-sec>=1 and #FPS) or (#FPS/(tick()-sec))) 
            fpslabel.Text = fps 
        end) 

        spawn(function() 
            while getgenv().AntiAfkExecuted do 
                wait(1) 
                local ping = math.floor(tonumber(game:GetService("Stats"):FindFirstChild("PerformanceStats").Ping:GetValue())) 
                pinglabel.Text = ping 
            end 
        end) 


        local saniye, dakika, saat = 0,0,0 
        getgenv().zamanbaslaticisi = true 
        spawn(function() 
            while getgenv().zamanbaslaticisi do 
                saniye = saniye + 1 
                wait(1) 
                if saniye>=60 then saniye=0;dakika=dakika+1 end 
                if dakika>=60 then dakika=0;saat=saat+1 end 
                timerlabel.Text = saat..":"..dakika..":"..saniye 
            end 
        end) 
    else 

        getgenv().AntiAfkExecuted = false 
        getgenv().zamanbaslaticisi = false 
        if game.CoreGui:FindFirstChild("thisoneissocoldww") then 
            game.CoreGui.thisoneissocoldww:Destroy() 
        end 
    end 
end) 

-- ESP SYSTEM (PEGAR EN CUALQUIER PARTE ARRIBA DE LOS SWITCHES)
local ESPEnabled = false
local ESPs = {}

-- ESP FUNCION
local function CreateESP(obj)
    if ESPs[obj] then return end
    local Highlight = Instance.new("Highlight")
    Highlight.Parent = obj
    Highlight.FillColor = Color3.fromRGB(0, 255, 0)
    Highlight.OutlineColor = Color3.fromRGB(255, 255, 0)
    Highlight.FillTransparency = 0.5
    Highlight.Adornee = obj
    ESPs[obj] = Highlight
end

local function ToggleESP(state)
    ESPEnabled = state
    if state then
        for _, obj in pairs(workspace:GetDescendants()) do
            if table.find(ItemTargets, obj.Name) or table.find(EnemyTargets, obj.Name) or obj.Name:find("Child") then
                CreateESP(obj)
            end
        end
        workspace.DescendantAdded:Connect(function(obj)
            if table.find(ItemTargets, obj.Name) or table.find(EnemyTargets, obj.Name) or obj.Name:find("Child") then
                task.wait(0.1)
                CreateESP(obj)
            end
        end)
    else
        for _, esp in pairs(ESPs) do
            if esp and esp.Parent then esp:Destroy() end
        end
        ESPs = {}
    end
end

-- SWITCH PARA EL HUB
AutoFarm:AddSwitch("ESP (Highlight)", function(state)
    ToggleESP(state)
    print(state and "[ESP] Activado" or "[ESP] Desactivado")
end)

AutoFarm:AddSwitch("Lock Position", function(Value) 
    if Value then 
        local currentPos = game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame 
        getgenv().posLock = game:GetService("RunService").Heartbeat:Connect(function() 
            if game.Players.LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then 
                game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = currentPos 
            end 
        end) 
    else 
        if getgenv().posLock then 
            getgenv().posLock:Disconnect() 
            getgenv().posLock = nil 
        end 
    end 
end) 

-- Add No-Clip toggle
AutoFarm:AddSwitch("NoClip", function(bool)
    _G.NoClip = bool

    if bool then
        local noclipLoop
        noclipLoop = game:GetService("RunService").Stepped:Connect(function()
            if _G.NoClip then
                for _, part in pairs(game.Players.LocalPlayer.Character:GetDescendants()) do
                    if part:IsA("BasePart") and part.CanCollide then
                        part.CanCollide = false
                    end
                end
            else
                noclipLoop:Disconnect()
            end
        end)

        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "No-Clip Activado",
            Text = "Ahora puedes atravesar objetos",
            Duration = 0
        })
    end
end)

local Jumps = window:AddTab("Player")

-- SERVICES
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")

-- PLAYER
local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")

player.CharacterAdded:Connect(function(char)
	character = char
	humanoid = char:WaitForChild("Humanoid")
end)

-- VARIABLES
local infiniteJump = false
local jumpConnection

local function enableInfiniteJump()
	jumpConnection = UserInputService.JumpRequest:Connect(function()
		if infiniteJump and humanoid then
			humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
		end
	end)
end

local function disableInfiniteJump()
	if jumpConnection then
		jumpConnection:Disconnect()
		jumpConnection = nil
	end
end

-- SWITCH EN EL HUB
Jumps:AddSwitch("Salto infinito", function(state)
	infiniteJump = state

	if state then
		enableInfiniteJump()
	else
		disableInfiniteJump()
	end
end)

-- SERVICES
local RunService = game:GetService("RunService")
local Players = game:GetService("Players")

-- PLAYER
local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local hrp = character:WaitForChild("HumanoidRootPart")

player.CharacterAdded:Connect(function(char)
	character = char
	humanoid = char:WaitForChild("Humanoid")
	hrp = char:WaitForChild("HumanoidRootPart")
end)

-- VARIABLES
local flyEnabled = false
local flyConnection
local bv, bg
local speed = 45

-- FUNCIONES
local function startFly()
	bv = Instance.new("BodyVelocity")
	bv.MaxForce = Vector3.new(1e5, 1e5, 1e5)
	bv.Parent = hrp

	bg = Instance.new("BodyGyro")
	bg.MaxTorque = Vector3.new(1e5, 1e5, 1e5)
	bg.Parent = hrp

	flyConnection = RunService.RenderStepped:Connect(function()
		if not flyEnabled then return end

		local cam = workspace.CurrentCamera
		local moveDir = humanoid.MoveDirection

		bv.Velocity =
			(cam.CFrame.LookVector * moveDir.Z +
			cam.CFrame.RightVector * moveDir.X) * speed
			+ Vector3.new(0, 10, 0)

		bg.CFrame = cam.CFrame
	end)
end

local function stopFly()
	if flyConnection then flyConnection:Disconnect() end
	if bv then bv:Destroy() end
	if bg then bg:Destroy() end
end

-- SWITCH DEL HUB
Jumps:AddSwitch("Fly (Celular)", function(state)
	flyEnabled = state

	if state then
		startFly()
	else
		stopFly()
	end
end)

-- ===== FLY V3 (HUB VERSION) =====

-- SERVICES
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")

-- PLAYER
local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local hrp = character:WaitForChild("HumanoidRootPart")

player.CharacterAdded:Connect(function(char)
	character = char
	humanoid = char:WaitForChild("Humanoid")
	hrp = char:WaitForChild("HumanoidRootPart")
end)

-- VARIABLES
local FlyV3Enabled = false
local flyConn
local BV, BG
local speed = 55
local verticalSpeed = 35

-- START FLY
local function StartFlyV3()
	BV = Instance.new("BodyVelocity")
	BV.MaxForce = Vector3.new(9e4, 9e4, 9e4)
	BV.Velocity = Vector3.zero
	BV.Parent = hrp

	BG = Instance.new("BodyGyro")
	BG.MaxTorque = Vector3.new(9e4, 9e4, 9e4)
	BG.P = 9e4
	BG.Parent = hrp

	humanoid.PlatformStand = true

	flyConn = RunService.RenderStepped:Connect(function()
		if not FlyV3Enabled then return end

		local cam = workspace.CurrentCamera
		local moveDir = humanoid.MoveDirection
		local velocity = Vector3.zero

		-- Movimiento horizontal (Fly V3 real)
		velocity += cam.CFrame.LookVector * moveDir.Z * speed
		velocity += cam.CFrame.RightVector * moveDir.X * speed

		-- Control vertical automático (hover)
		if moveDir.Magnitude > 0 then
			velocity += Vector3.new(0, verticalSpeed, 0)
		end

		BV.Velocity = velocity
		BG.CFrame = cam.CFrame
	end)
end

-- STOP FLY
local function StopFlyV3()
	if flyConn then flyConn:Disconnect() end
	if BV then BV:Destroy() end
	if BG then BG:Destroy() end

	humanoid.PlatformStand = false
end

-- SWITCH EN EL HUB
Jumps:AddSwitch("Fly V2", function(state)
	FlyV3Enabled = state

	if state then
		StartFlyV3()
	else
		StopFlyV3()
	end
end)

-- ===== FLY V3 CAMERA LOCK =====

-- SERVICES
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")

-- PLAYER
local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local hrp = character:WaitForChild("HumanoidRootPart")

player.CharacterAdded:Connect(function(char)
	character = char
	humanoid = char:WaitForChild("Humanoid")
	hrp = char:WaitForChild("HumanoidRootPart")
end)

-- VARIABLES
local FlyV3Enabled = false
local flyConn
local BV, BG
local speed = 200
local verticalSpeed = 100

-- START FLY
local function StartFlyV3()
	BV = Instance.new("BodyVelocity")
	BV.MaxForce = Vector3.new(1e5, 1e5, 1e5)
	BV.Velocity = Vector3.zero
	BV.Parent = hrp

	BG = Instance.new("BodyGyro")
	BG.MaxTorque = Vector3.new(1e5, 1e5, 1e5)
	BG.P = 1e5
	BG.Parent = hrp

	-- Camera lock estilo Fly V3
	humanoid.AutoRotate = false
	humanoid.PlatformStand = true

	flyConn = RunService.RenderStepped:Connect(function()
		if not FlyV3Enabled then return end

		local cam = workspace.CurrentCamera
		local moveDir = humanoid.MoveDirection
		local velocity = Vector3.zero

		-- Vuela EXACTAMENTE hacia donde apunta la cámara
		if moveDir.Magnitude > 0 then
			velocity =
				cam.CFrame.LookVector * speed +
				Vector3.new(0, verticalSpeed, 0)
		else
			-- Hover sin moverse
			velocity = Vector3.new(0, 0, 0)
		end

		BV.Velocity = velocity
		BG.CFrame = cam.CFrame
	end)
end

-- STOP FLY
local function StopFlyV3()
	if flyConn then flyConn:Disconnect() end
	if BV then BV:Destroy() end
	if BG then BG:Destroy() end

	humanoid.PlatformStand = false
	humanoid.AutoRotate = true
end

-- SWITCH EN TU HUB
Jumps:AddSwitch("Fly V3 (Cam Lock)", function(state)
	FlyV3Enabled = state

	if state then
		StartFlyV3()
	else
		StopFlyV3()
	end
end)

local ItemsTab = window:AddTab("Spawn Items")

-- Spawn Woods
ItemsTab:AddSwitch({
    Name = "Spawn Woods",
    Callback = function()
        for _, obj in pairs(Workspace.Items:GetChildren()) do
            if obj:IsA("Model") and obj.Name == "Log" and obj.PrimaryPart then
                obj.PrimaryPart.CFrame = LocalPlayer.Character.HumanoidRootPart.CFrame
                DragItem(obj)
            end
        end
    end
})
 
-- Spawn Metals
ItemsTab:AddSwitch({
    Name = "Spawn Metals",
    Callback = function()
        for _, obj in pairs(Workspace.Items:GetChildren()) do
            if obj:IsA("Model") and obj.Name == "Scrap" or obj.Name == "Metal") or obj.Name == "Scraps") or obj.Name == "Metals") and obj.PrimaryPart then
                obj.PrimaryPart.CFrame = LocalPlayer.Character.HumanoidRootPart.CFrame
                DragItem(obj)
            end
        end
    end
})
 
-- Spawn Bandages/Medkits
ItemsTab:AddSwitch({
    Name = "Spawn Bandages/Medkits",
    Callback = function()
        for _, obj in pairs(Workspace.Items:GetChildren()) do
            if obj:IsA("Model") and (obj.Name == "Medkit" or obj.Name == "Bandage") and obj.PrimaryPart then
                obj.PrimaryPart.CFrame = LocalPlayer.Character.HumanoidRootPart.CFrame
                DragItem(obj)
            end
        end
    end
})
 
-- Spawn Fuels
ItemsTab:AddSwitch({
    Name = "Spawn Fuels",
    Callback = function()
        for _, obj in pairs(Workspace.Items:GetChildren()) do
            if obj:IsA("Model") and (obj.Name == "Petrol" or obj.Name == "Gas Can" or obj.Name == "Coal" or obj.Name == "Log" or obj.Name:match("Corpse")) and obj.PrimaryPart then
                obj.PrimaryPart.CFrame = LocalPlayer.Character.HumanoidRootPart.CFrame
                DragItem(obj)
            end
        end
    end
})
 
-- Spawn Foods
ItemsTab:AddSwitch({
    Name = "Spawn Foods",
    Callback = function()
        for _, obj in pairs(Workspace.Items:GetChildren()) do
            if obj:IsA("Model") and obj.Name:match("Food") or obj.Name == "Eat") and obj.PrimaryPart then
                obj.PrimaryPart.CFrame = LocalPlayer.Character.HumanoidRootPart.CFrame
                DragItem(obj)
            end
        end
    end
})