-- CARGA DE LIBRERÍA 
local library = loadstring(game:HttpGet("https://raw.githubusercontent.com/EL-INDIGO15/dyros/refs/heads/main/libreria"))() 

-- OBTENER NOMBRE DEL JUGADOR 
local player = game.Players.LocalPlayer 
local displayName = player.DisplayName or player.Name 

-- OPCIONES DE LA VENTANA (separadas para poder cambiar el color después)
local options = {
    main_color = Color3.fromRGB(220, 20, 60),  -- Color inicial (rojo original)
    min_size = Vector2.new(600, 820),
    can_resize = false,
}

-- VENTANA PRINCIPAL
local window = library:AddWindow("HadesHub|Bienvenid@ I love you " .. displayName, options)

-- LISTA DE COLORES PARA LA ANIMACIÓN (rojos + naranja + amarillo)
local colores = {
    Color3.fromRGB(220, 20, 60),   -- Rojo original (Crimson)
    Color3.fromRGB(255, 102, 102), -- Rojo claro
    Color3.fromRGB(255, 0, 0),     -- Rojo fuerte / puro
    Color3.fromRGB(255, 140, 0),   -- Naranja oscuro (Dark Orange)
    Color3.fromRGB(255, 165, 0),   -- Naranja normal
    Color3.fromRGB(255, 215, 0),   -- Amarillo dorado
    Color3.fromRGB(255, 255, 0),   -- Amarillo puro
}

-- ANIMACIÓN DE COLOR (cambia suavemente entre todos los colores)
task.spawn(function()
    local indice = 1
    while true do
        local colorActual = colores[indice]
        local colorSiguiente = colores[indice % #colores + 1]

        -- Transición suave entre color actual y siguiente (50 pasos)
        for i = 0, 50 do
            local alpha = i / 50
            options.main_color = colorActual:Lerp(colorSiguiente, alpha)
            task.wait(0.05)  -- Velocidad de la animación (ajusta si quieres más rápido/lento)
        end

        indice = indice % #colores + 1  -- Pasa al siguiente color
    end
end) 

local MainTab = window:AddTab("Main") 
local CombatTab = window:AddTab("Combat") 
local MovementTab = window:AddTab("Movement") 
local VisualTab = window:AddTab("Visuals") 
local MiscTab = window:AddTab("Misc") 

-- Anti-Ragdoll
local antiRagdollEnabled = false
MainTab:AddSwitch("Anti-Ragdoll (No Push)", function(state)
    antiRagdollEnabled = state
    if state then
        local character = player.Character or player.CharacterAdded:Wait()
        local humanoid = character:WaitForChild("Humanoid")
        humanoid:SetStateEnabled(Enum.HumanoidStateType.Ragdoll, false)
        humanoid:SetStateEnabled(Enum.HumanoidStateType.FallingDown, false)
        humanoid:SetStateEnabled(Enum.HumanoidStateType.GettingUp, false)
        print("[Anti-Ragdoll] Enabled.")
    else
        local character = player.Character or player.CharacterAdded:Wait()
        local humanoid = character:WaitForChild("Humanoid")
        humanoid:SetStateEnabled(Enum.HumanoidStateType.Ragdoll, true)
        humanoid:SetStateEnabled(Enum.HumanoidStateType.FallingDown, true)
        humanoid:SetStateEnabled(Enum.HumanoidStateType.GettingUp, true)
        print("[Anti-Ragdoll] Disabled.")
    end
end)

-- Fly (V3 style with camera lock)
local flyEnabled = false
local flySpeed = 50
local flyConnection
MovementTab:AddSwitch("Fly (V3 w/ Cam Lock)", function(state)
    flyEnabled = state
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoidRootPart = character:WaitForChild("HumanoidRootPart")
    local camera = workspace.CurrentCamera

    if state then
        local bodyGyro = Instance.new("BodyGyro", humanoidRootPart)
        bodyGyro.P = 9e4
        bodyGyro.MaxTorque = Vector3.new(9e9, 9e9, 9e9)
        bodyGyro.CFrame = humanoidRootPart.CFrame

        local bodyVelocity = Instance.new("BodyVelocity", humanoidRootPart)
        bodyVelocity.Velocity = Vector3.new(0, 0, 0)
        bodyVelocity.MaxForce = Vector3.new(9e9, 9e9, 9e9)

        flyConnection = game:GetService("RunService").RenderStepped:Connect(function()
            humanoid:ChangeState(Enum.HumanoidStateType.Freefall)
            local moveDirection = Vector3.new(0, 0, 0)
            if game:GetService("UserInputService"):IsKeyDown(Enum.KeyCode.W) then
                moveDirection = moveDirection + camera.CFrame.LookVector
            end
            if game:GetService("UserInputService"):IsKeyDown(Enum.KeyCode.S) then
                moveDirection = moveDirection - camera.CFrame.LookVector
            end
            if game:GetService("UserInputService"):IsKeyDown(Enum.KeyCode.A) then
                moveDirection = moveDirection - camera.CFrame.RightVector
            end
            if game:GetService("UserInputService"):IsKeyDown(Enum.KeyCode.D) then
                moveDirection = moveDirection + camera.CFrame.RightVector
            end
            if game:GetService("UserInputService"):IsKeyDown(Enum.KeyCode.Space) then
                moveDirection = moveDirection + Vector3.new(0, 1, 0)
            end
            if game:GetService("UserInputService"):IsKeyDown(Enum.KeyCode.LeftControl) then
                moveDirection = moveDirection - Vector3.new(0, 1, 0)
            end
            bodyVelocity.Velocity = moveDirection * flySpeed
            bodyGyro.CFrame = camera.CFrame
        end)
        print("[Fly] Enabled.")
    else
        if flyConnection then flyConnection:Disconnect() end
        if humanoidRootPart:FindFirstChild("BodyGyro") then humanoidRootPart.BodyGyro:Destroy() end
        if humanoidRootPart:FindFirstChild("BodyVelocity") then humanoidRootPart.BodyVelocity:Destroy() end
        print("[Fly] Disabled.")
    end
end)

-- God Mode
local godModeEnabled = false
CombatTab:AddSwitch("God Mode", function(state)
    godModeEnabled = state
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoid = character:WaitForChild("Humanoid")

    if state then
        humanoid.MaxHealth = math.huge
        humanoid.Health = math.huge
        task.spawn(function()
            while godModeEnabled do
                humanoid.Health = math.huge
                task.wait(0.1)
            end
        end)
        print("[God Mode] Enabled.")
    else
        humanoid.MaxHealth = 100
        humanoid.Health = 100
        print("[God Mode] Disabled.")
    end
end)

-- Lock Position
local lockPositionEnabled = false
local lockedPosition
MovementTab:AddSwitch("Lock Position", function(state)
    lockPositionEnabled = state
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoidRootPart = character:WaitForChild("HumanoidRootPart")

    if state then
        lockedPosition = humanoidRootPart.CFrame
        task.spawn(function()
            while lockPositionEnabled do
                humanoidRootPart.CFrame = lockedPosition
                task.wait()
            end
        end)
        print("[Lock Position] Enabled.")
    else
        print("[Lock Position] Disabled.")
    end
end)

-- Infinite Jump
local infiniteJumpEnabled = false
MovementTab:AddSwitch("Infinite Jump", function(state)
    infiniteJumpEnabled = state
    if state then
        game:GetService("UserInputService").JumpRequest:Connect(function()
            if infiniteJumpEnabled then
                local character = player.Character
                if character then
                    local humanoid = character:FindFirstChildOfClass("Humanoid")
                    if humanoid then
                        humanoid:ChangeState("Jumping")
                    end
                end
            end
        end)
        print("[Infinite Jump] Enabled.")
    else
        print("[Infinite Jump] Disabled.")
    end
end)

-- Noclip
local noclipEnabled = false
local noclipConnection
MovementTab:AddSwitch("Noclip", function(state)
    noclipEnabled = state
    if state then
        noclipConnection = game:GetService("RunService").Stepped:Connect(function()
            if noclipEnabled then
                for _, part in pairs(player.Character:GetDescendants()) do
                    if part:IsA("BasePart") and part.CanCollide then
                        part.CanCollide = false
                    end
                end
            end
        end)
        print("[Noclip] Enabled.")
    else
        if noclipConnection then noclipConnection:Disconnect() end
        print("[Noclip] Disabled.")
    end
end)

-- Anti-Lag
MiscTab:AddSwitch("Anti-Lag", function(state)
    if state then
        for _, v in pairs(game:GetDescendants()) do 
            if v:IsA("ParticleEmitter") or v:IsA("Smoke") or v:IsA("Fire") or v:IsA("Sparkles") then 
                v.Enabled = false 
            end 
        end 

        local lighting = game:GetService("Lighting") 
        lighting.GlobalShadows = false 
        lighting.FogEnd = 9e9 
        lighting.Brightness = 0 

        settings().Rendering.QualityLevel = 1 

        for _, v in pairs(game:GetDescendants()) do 
            if v:IsA("Decal") or v:IsA("Texture") then 
                v.Transparency = 1 
            elseif v:IsA("BasePart") and not v:IsA("MeshPart") then 
                v.Material = Enum.Material.SmoothPlastic 
                if v.Parent and (v.Parent:FindFirstChild("Humanoid") or v.Parent.Parent:FindFirstChild("Humanoid")) then 
                else 
                    v.Reflectance = 0 
                end 
            end 
        end 

        for _, v in pairs(lighting:GetChildren()) do 
            if v:IsA("BlurEffect") or v:IsA("SunRaysEffect") or v:IsA("ColorCorrectionEffect") or v:IsA("BloomEffect") or v:IsA("DepthOfFieldEffect") then 
                v.Enabled = false 
            end 
        end 

        game:GetService("StarterGui"):SetCore("SendNotification", { 
            Title = "Anti-Lag", 
            Text = "Enabled!", 
            Duration = 5 
        }) 
    end
end)

-- ESP for Players
local espEnabled = false
local espConnections = {}
VisualTab:AddSwitch("ESP Players", function(state)
    espEnabled = state
    if state then
        for _, plr in pairs(game.Players:GetPlayers()) do
            if plr ~= player and plr.Character then
                local highlight = Instance.new("Highlight")
                highlight.Parent = plr.Character
                highlight.FillColor = Color3.fromRGB(255, 0, 0)
                highlight.OutlineColor = Color3.fromRGB(255, 255, 255)
                table.insert(espConnections, highlight)
            end
        end
        game.Players.PlayerAdded:Connect(function(plr)
            plr.CharacterAdded:Connect(function(char)
                if espEnabled then
                    local highlight = Instance.new("Highlight")
                    highlight.Parent = char
                    highlight.FillColor = Color3.fromRGB(255, 0, 0)
                    highlight.OutlineColor = Color3.fromRGB(255, 255, 255)
                    table.insert(espConnections, highlight)
                end
            end)
        end)
        print("[ESP] Enabled.")
    else
        for _, conn in pairs(espConnections) do
            conn:Destroy()
        end
        espConnections = {}
        print("[ESP] Disabled.")
    end
end)

-- Walk on Sky
local skyWalkEnabled = false
local skyPlatform
MovementTab:AddSwitch("Walk on Sky", function(state)
    skyWalkEnabled = state
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoidRootPart = character:WaitForChild("HumanoidRootPart")

    if state then
        skyPlatform = Instance.new("Part")
        skyPlatform.Size = Vector3.new(10, 1, 10)
        skyPlatform.Transparency = 0.5
        skyPlatform.Anchored = true
        skyPlatform.Parent = workspace
        task.spawn(function()
            while skyWalkEnabled do
                skyPlatform.CFrame = humanoidRootPart.CFrame * CFrame.new(0, -3, 0)
                task.wait()
            end
        end)
        print("[Sky Walk] Enabled.")
    else
        if skyPlatform then skyPlatform:Destroy() end
        print("[Sky Walk] Disabled.")
    end
end)

-- Speed Boost
local speedBoostEnabled = false
local originalWalkSpeed = 16
MovementTab:AddSwitch("Speed Boost (Slight)", function(state)
    speedBoostEnabled = state
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoid = character:WaitForChild("Humanoid")

    if state then
        originalWalkSpeed = humanoid.WalkSpeed
        humanoid.WalkSpeed = 24  -- Slightly faster than normal (16)
        print("[Speed Boost] Enabled.")
    else
        humanoid.WalkSpeed = originalWalkSpeed
        print("[Speed Boost] Disabled.")
    end
end)

-- Additional Features
-- Auto Heal (extra)
local autoHealEnabled = false
CombatTab:AddSwitch("Auto Heal", function(state)
    autoHealEnabled = state
    if state then
        task.spawn(function()
            while autoHealEnabled do
                local character = player.Character
                if character then
                    local humanoid = character:FindFirstChild("Humanoid")
                    if humanoid and humanoid.Health < humanoid.MaxHealth then
                        humanoid.Health = humanoid.MaxHealth
                    end
                end
                task.wait(1)
            end
        end)
        print("[Auto Heal] Enabled.")
    else
        print("[Auto Heal] Disabled.")
    end
end)

-- No Clip Through Walls (enhanced noclip)
MovementTab:AddSwitch("No Clip Through Walls", function(state)
    -- Similar to noclip, but can be separate if needed
    noclipEnabled = state  -- Reuse the noclip logic
end)

-- Teleport to Player (extra)
local teleportDropdown = VisualTab:AddDropdown("Teleport to Player", function(selected)
    local targetPlayer = game.Players:FindFirstChild(selected)
    if targetPlayer and targetPlayer.Character then
        local character = player.Character
        if character then
            character:MoveTo(targetPlayer.Character.HumanoidRootPart.Position)
        end
    end
end)
for _, plr in pairs(game.Players:GetPlayers()) do
    if plr ~= player then
        teleportDropdown:Add(plr.Name)
    end
end

-- Infinite Yield (simple command executor, extra)
MiscTab:AddButton("Load Infinite Yield", function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source"))()
end)

local Jumps = window:AddTab("Player")

-- SERVICES
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")

-- PLAYER
local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")

player.CharacterAdded:Connect(function(char)
        character = char
        humanoid = char:WaitForChild("Humanoid")
end)

-- VARIABLES
local infiniteJump = false
local jumpConnection

local function enableInfiniteJump()
        jumpConnection = UserInputService.JumpRequest:Connect(function()
                if infiniteJump and humanoid then
                        humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
                end
        end)
end

local function disableInfiniteJump()
        if jumpConnection then
                jumpConnection:Disconnect()
                jumpConnection = nil
        end
end

-- SWITCH EN EL HUB
Jumps:AddSwitch("Salto infinito", function(state)
        infiniteJump = state

        if state then
                enableInfiniteJump()
        else
                disableInfiniteJump()
        end
end)

-- SERVICES
local RunService = game:GetService("RunService")
local Players = game:GetService("Players")

-- PLAYER
local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local hrp = character:WaitForChild("HumanoidRootPart")

player.CharacterAdded:Connect(function(char)
        character = char
        humanoid = char:WaitForChild("Humanoid")
        hrp = char:WaitForChild("HumanoidRootPart")
end)

-- VARIABLES
local flyEnabled = false
local flyConnection
local bv, bg
local speed = 45

-- FUNCIONES
local function startFly()
        bv = Instance.new("BodyVelocity")
        bv.MaxForce = Vector3.new(1e5, 1e5, 1e5)
        bv.Parent = hrp

        bg = Instance.new("BodyGyro")
        bg.MaxTorque = Vector3.new(1e5, 1e5, 1e5)
        bg.Parent = hrp

        flyConnection = RunService.RenderStepped:Connect(function()
                if not flyEnabled then return end

                local cam = workspace.CurrentCamera
                local moveDir = humanoid.MoveDirection

                bv.Velocity =
                        (cam.CFrame.LookVector * moveDir.Z +
                        cam.CFrame.RightVector * moveDir.X) * speed
                        + Vector3.new(0, 10, 0)

                bg.CFrame = cam.CFrame
        end)
end

local function stopFly()
        if flyConnection then flyConnection:Disconnect() end
        if bv then bv:Destroy() end
        if bg then bg:Destroy() end
end

-- SWITCH DEL HUB
Jumps:AddSwitch("Fly (Celular)", function(state)
        flyEnabled = state

        if state then
                startFly()
        else
                stopFly()
        end
end)

-- ===== FLY V3 (HUB VERSION) =====

-- SERVICES
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")

-- PLAYER
local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local hrp = character:WaitForChild("HumanoidRootPart")

player.CharacterAdded:Connect(function(char)
        character = char
        humanoid = char:WaitForChild("Humanoid")
        hrp = char:WaitForChild("HumanoidRootPart")
end)

-- VARIABLES
local FlyV3Enabled = false
local flyConn
local BV, BG
local speed = 55
local verticalSpeed = 35

-- START FLY
local function StartFlyV3()
        BV = Instance.new("BodyVelocity")
        BV.MaxForce = Vector3.new(9e4, 9e4, 9e4)
        BV.Velocity = Vector3.zero
        BV.Parent = hrp

        BG = Instance.new("BodyGyro")
        BG.MaxTorque = Vector3.new(9e4, 9e4, 9e4)
        BG.P = 9e4
        BG.Parent = hrp

        humanoid.PlatformStand = true

        flyConn = RunService.RenderStepped:Connect(function()
                if not FlyV3Enabled then return end

                local cam = workspace.CurrentCamera
                local moveDir = humanoid.MoveDirection
                local velocity = Vector3.zero

                -- Movimiento horizontal (Fly V3 real)
                velocity += cam.CFrame.LookVector * moveDir.Z * speed
                velocity += cam.CFrame.RightVector * moveDir.X * speed

                -- Control vertical automático (hover)
                if moveDir.Magnitude > 0 then
                        velocity += Vector3.new(0, verticalSpeed, 0)
                end

                BV.Velocity = velocity
                BG.CFrame = cam.CFrame
        end)
end

-- STOP FLY
local function StopFlyV3()
        if flyConn then flyConn:Disconnect() end
        if BV then BV:Destroy() end
        if BG then BG:Destroy() end

        humanoid.PlatformStand = false
end

-- SWITCH EN EL HUB
Jumps:AddSwitch("Fly V2", function(state)
        FlyV3Enabled = state

        if state then
                StartFlyV3()
        else
                StopFlyV3()
        end
end)

-- ===== FLY V3 CAMERA LOCK =====

-- SERVICES
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")

-- PLAYER
local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local hrp = character:WaitForChild("HumanoidRootPart")

player.CharacterAdded:Connect(function(char)
        character = char
        humanoid = char:WaitForChild("Humanoid")
        hrp = char:WaitForChild("HumanoidRootPart")
end)

-- VARIABLES
local FlyV3Enabled = false
local flyConn
local BV, BG
local speed = 200
local verticalSpeed = 100

-- START FLY
local function StartFlyV3()
        BV = Instance.new("BodyVelocity")
        BV.MaxForce = Vector3.new(1e5, 1e5, 1e5)
        BV.Velocity = Vector3.zero
        BV.Parent = hrp

        BG = Instance.new("BodyGyro")
        BG.MaxTorque = Vector3.new(1e5, 1e5, 1e5)
        BG.P = 1e5
        BG.Parent = hrp

        -- Camera lock estilo Fly V3
        humanoid.AutoRotate = false
        humanoid.PlatformStand = true

        flyConn = RunService.RenderStepped:Connect(function()
                if not FlyV3Enabled then return end

                local cam = workspace.CurrentCamera
                local moveDir = humanoid.MoveDirection
                local velocity = Vector3.zero

                -- Vuela EXACTAMENTE hacia donde apunta la cámara
                if moveDir.Magnitude > 0 then
                        velocity =
                                cam.CFrame.LookVector * speed +
                                Vector3.new(0, verticalSpeed, 0)
                else
                        -- Hover sin moverse
                        velocity = Vector3.new(0, 0, 0)
                end

                BV.Velocity = velocity
                BG.CFrame = cam.CFrame
        end)
end

-- STOP FLY
local function StopFlyV3()
        if flyConn then flyConn:Disconnect() end
        if BV then BV:Destroy() end
        if BG then BG:Destroy() end

        humanoid.PlatformStand = false
        humanoid.AutoRotate = true
end

-- SWITCH EN TU HUB
Jumps:AddSwitch("Fly V3 (Cam Lock)", function(state)
        FlyV3Enabled = state

        if state then
                StartFlyV3()
        else
                StopFlyV3()
        end
end)

-- Anti Knockback Toggle
Jumps:AddSwitch("Anti empujar", function(state)
    if Value then
        local playerName = game.Players.LocalPlayer.Name
        local rootPart = game.Workspace:FindFirstChild(playerName):FindFirstChild("HumanoidRootPart")
        local bodyVelocity = Instance.new("BodyVelocity")
        bodyVelocity.MaxForce = Vector3.new(100000, 0, 100000)
        bodyVelocity.Velocity = Vector3.new(0, 0, 0)
        bodyVelocity.P = 1250
        bodyVelocity.Parent = rootPart
    else
        local playerName = game.Players.LocalPlayer.Name
        local rootPart = game.Workspace:FindFirstChild(playerName):FindFirstChild("HumanoidRootPart")
        local existingVelocity = rootPart:FindFirstChild("BodyVelocity")
        if existingVelocity and existingVelocity.MaxForce == Vector3.new(100000, 0, 100000) then
            existingVelocity:Destroy()
        end
    end
end)

-- Air Walk: Create invisible platform under player to walk in air at fixed height
local airWalkEnabled = false
local platform = nil
local airWalkConnection
local fixedY = nil

Jumps:AddSwitch("Caminar en el Aire", function(state)
    airWalkEnabled = state
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoid = character:WaitForChild("Humanoid")
    local rootPart = character:WaitForChild("HumanoidRootPart")

    if state then
        -- Record fixed Y height at activation
        local footPosition = rootPart.Position - Vector3.new(0, rootPart.Size.Y / 2 + humanoid.HipHeight / 2, 0)
        fixedY = footPosition.Y - 0.5  -- Fixed platform Y position
        
        if not platform then
            platform = Instance.new("Part")
            platform.Size = Vector3.new(10, 1, 10)  -- Platform size (adjust as needed)
            platform.Transparency = 1  -- Invisible (set to 0 for visible)
            platform.Anchored = true
            platform.CanCollide = true
            platform.Parent = workspace
        end
        humanoid.PlatformStand = false  -- Allow walking
        print("[Caminar en el Aire] Enabled")

        airWalkConnection = game:GetService("RunService").Stepped:Connect(function()
            if airWalkEnabled and platform and fixedY then
                -- Position platform under player's X/Z but at fixed Y
                platform.Position = Vector3.new(rootPart.Position.X, fixedY, rootPart.Position.Z)
            end
        end)
    else
        if platform then
            platform:Destroy()
            platform = nil
        end
        if airWalkConnection then airWalkConnection:Disconnect() end
        fixedY = nil
        print("[Caminar en el Aire] Disabled")
    end
end)

-- Handle character respawn for Air Walk
player.CharacterAdded:Connect(function(newChar)
    character = newChar
    humanoid = character:WaitForChild("Humanoid")
    rootPart = character:WaitForChild("HumanoidRootPart")
end)