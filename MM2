-- CARGA DE LIBRERÍA 
local library = loadstring(game:HttpGet("https://raw.githubusercontent.com/EL-INDIGO15/dyros/refs/heads/main/libreria"))() 

-- OBTENER NOMBRE DEL JUGADOR 
local player = game.Players.LocalPlayer 
local displayName = player.DisplayName or player.Name 

-- OPCIONES DE LA VENTANA
local options = {
    main_color = Color3.fromRGB(220, 20, 60),
    min_size = Vector2.new(600, 820),
    can_resize = false,
}

-- VENTANA PRINCIPAL
local window = library:AddWindow("HadesHub | Bienvenid@ I love you " .. displayName, options)

-- ANIMACIÓN DE COLOR
local colores = {
    Color3.fromRGB(220, 20, 60),
    Color3.fromRGB(255, 102, 102),
    Color3.fromRGB(255, 0, 0),
    Color3.fromRGB(255, 140, 0),
    Color3.fromRGB(255, 165, 0),
    Color3.fromRGB(255, 215, 0),
    Color3.fromRGB(255, 255, 0),
}

task.spawn(function()
    local indice = 1
    while true do
        local colorActual = colores[indice]
        local colorSiguiente = colores[indice % #colores + 1]
        for i = 0, 50 do
            local alpha = i / 50
            options.main_color = colorActual:Lerp(colorSiguiente, alpha)
            task.wait(0.05)
        end
        indice = indice % #colores + 1
    end
end) 

-- Servicios
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local Camera = workspace.CurrentCamera

-- Variables globales
local noclipEnabled = false
local noclipLoop
local espHighlights = {}
local murderer = nil
local sheriff = nil

-- Variables para aimbot (Cazador)
local aimbotInocentesEnabled = false
local aimbotSheriffEnabled = false
local aimbotInocentesConn
local aimbotSheriffConn

-- Encontrar Murderer
local function findMurderer()
    for _, plr in pairs(Players:GetPlayers()) do
        if plr ~= player and plr.Character then
            local backpack = plr:FindFirstChild("Backpack")
            local char = plr.Character
            if (backpack and backpack:FindFirstChild("Knife")) or (char and char:FindFirstChild("Knife")) then
                return plr
            end
        end
    end
    return nil
end

-- === EN LA PESTAÑA CAZADOR ===
tabCazador:AddButton("Traer a TODOS delante mío (congelados 10s)", function()
    if not player.Character or not player.Character:FindFirstChild("HumanoidRootPart") then return end
    local myHrp = player.Character.HumanoidRootPart
    local myPos = myHrp.CFrame * CFrame.new(0, 0, -2)  -- Posición delante de ti

    for _, plr in pairs(Players:GetPlayers()) do
        if plr ~= player and plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") then
            local targetHrp = plr.Character.HumanoidRootPart
            local humanoid = plr.Character:FindFirstChild("Humanoid")

            -- Teletransportar delante tuyo
            targetHrp.CFrame = myPos

            -- Congelar al jugador (no puede moverse ni saltar)
            if humanoid then
                humanoid.WalkSpeed = 0
                humanoid.JumpPower = 0
                humanoid.PlatformStand = true  -- Lo deja "parado en el aire" si es necesario
            end

            -- Después de 10 segundos, devolver el control
            task.delay(10, function()
                if humanoid and humanoid.Parent then
                    humanoid.WalkSpeed = 16  -- Velocidad normal
                    humanoid.JumpPower = 50
                    humanoid.PlatformStand = false
                end
            end)
        end
    end
end)

-- Noclip
local function toggleNoclip(state)
    noclipEnabled = state
    if state then
        noclipLoop = RunService.Stepped:Connect(function()
            if player.Character then
                for _, part in pairs(player.Character:GetDescendants()) do
                    if part:IsA("BasePart") then
                        part.CanCollide = false
                    end
                end
            end
        end)
    else
        if noclipLoop then noclipLoop:Disconnect() end
    end
end

-- Crear ESP con Highlight
local function createESP(targetPlr, color, labelText)
    if targetPlr and targetPlr.Character then
        local highlight = Instance.new("Highlight")
        highlight.FillColor = color
        highlight.OutlineColor = color:Lerp(Color3.new(0,0,0), 0.5)
        highlight.FillTransparency = 0.3
        highlight.OutlineTransparency = 0
        highlight.Adornee = targetPlr.Character
        highlight.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
        highlight.Parent = targetPlr.Character
        table.insert(espHighlights, highlight)

        if labelText then
            local hrp = targetPlr.Character:FindFirstChild("HumanoidRootPart")
            if hrp then
                local bill = Instance.new("BillboardGui")
                bill.Adornee = hrp
                bill.Size = UDim2.new(0, 100, 0, 40)
                bill.StudsOffset = Vector3.new(0, 3, 0)
                bill.AlwaysOnTop = true
                bill.Parent = hrp

                local text = Instance.new("TextLabel")
                text.Size = UDim2.new(1,0,1,0)
                text.BackgroundTransparency = 1
                text.Text = labelText .. "\n" .. targetPlr.Name
                text.TextColor3 = color
                text.TextScaled = true
                text.Font = Enum.Font.SourceSansBold
                text.Parent = bill
            end
        end
    end
end

local function clearESP()
    for _, hl in pairs(espHighlights) do
        if hl then hl:Destroy() end
    end
    espHighlights = {}
end

-- Aimbot a Inocentes
local function startAimbotInocentes()
    aimbotInocentesConn = RunService.RenderStepped:Connect(function()
        if not aimbotInocentesEnabled then return end
        
        murderer = findMurderer()
        sheriff = findSheriff()
        
        local closest = nil
        local closestDist = math.huge
        
        for _, plr in pairs(Players:GetPlayers()) do
            if plr ~= player and plr.Character and plr.Character:FindFirstChild("Head") then
                if plr ~= murderer and plr ~= sheriff then
                    local dist = (plr.Character.Head.Position - Camera.CFrame.Position).Magnitude
                    if dist < closestDist then
                        closestDist = dist
                        closest = plr.Character.Head
                    end
                end
            end
        end
       
-- === EN LA PESTAÑA SHERIFF ===
tabSheriff:AddButton("Traer al Cazador hacia mí (congelado 10s)", function()
    murderer = findMurderer()
    if not murderer or not murderer.Character or not murderer.Character:FindFirstChild("HumanoidRootPart") 
       or not player.Character or not player.Character:FindFirstChild("HumanoidRootPart") then
        return
    end

    local myHrp = player.Character.HumanoidRootPart
    local murdererHrp = murderer.Character.HumanoidRootPart
    local humanoid = murderer.Character:FindFirstChild("Humanoid")

    -- Teletransportar delante tuyo
    murdererHrp.CFrame = myHrp.CFrame * CFrame.new(0, 0, -10)

    -- Congelar al Murderer
    if humanoid then
        humanoid.WalkSpeed = 0
        humanoid.JumpPower = 0
        humanoid.PlatformStand = true
    end

    -- Después de 10 segundos, devolver el control
    task.delay(10, function()
        if humanoid and humanoid.Parent then
            humanoid.WalkSpeed = 16
            humanoid.JumpPower = 50
            humanoid.PlatformStand = false
        end
    end)
end)

-- Tabs
local tabCazador = window:AddTab("Cazador")
local tabSheriff = window:AddTab("Sheriff")

-- === PESTAÑA CAZADOR (MURDERER) ===
tabCazador:AddSwitch("Noclip", function(state)
    toggleNoclip(state)
end)

tabCazador:AddSwitch("ESP Jugadores", function(state)
    clearESP()
    if state then
        for _, plr in pairs(Players:GetPlayers()) do
            if plr ~= player then
                createESP(plr, Color3.fromRGB(0, 255, 0), nil)
            end
        end
    end
end)

tabCazador:AddSwitch("ESP Sheriff", function(state)
    clearESP()
    if state then
        sheriff = findSheriff()
        if sheriff then
            createESP(sheriff, Color3.fromRGB(0, 100, 255), "SHERIFF")
        end
    end
end)

tabCazador:AddSwitch("Aimbot a Inocentes", function(state)
    aimbotInocentesEnabled = state
    if state then
        startAimbotInocentes()
        if aimbotSheriffEnabled then
            aimbotSheriffEnabled = false
            stopAimbotSheriff()
        end
    else
        stopAimbotInocentes()
    end
end)

tabCazador:AddSwitch("Aimbot al Sheriff", function(state)
    aimbotSheriffEnabled = state
    if state then
        startAimbotSheriff()
        if aimbotInocentesEnabled then
            aimbotInocentesEnabled = false
            stopAimbotInocentes()
        end
    else
        stopAimbotSheriff()
    end
end)

-- NUEVO: TP atrás del Sheriff
tabCazador:AddButton("TP atrás del Sheriff", function()
    sheriff = findSheriff()
    if sheriff and sheriff.Character and sheriff.Character:FindFirstChild("HumanoidRootPart") then
        local hrp = player.Character.HumanoidRootPart
        local targetHrp = sheriff.Character.HumanoidRootPart
        -- Te pone exactamente detrás del Sheriff (5 studs atrás en su dirección de mirada)
        hrp.CFrame = targetHrp.CFrame * CFrame.new(0, 0, 5)
    end
end)

-- NUEVA FUNCIÓN: Teletransportar TODOS los jugadores delante de ti (Cazador)
tabCazador:AddButton("Traer a TODOS delante mío", function()
    if not player.Character or not player.Character:FindFirstChild("HumanoidRootPart") then return end
    local myHrp = player.Character.HumanoidRootPart
    
    for _, plr in pairs(Players:GetPlayers()) do
        if plr ~= player and plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") then
            local targetHrp = plr.Character.HumanoidRootPart
            -- Los pone a 2 studs delante de donde estás mirando
            targetHrp.CFrame = myHrp.CFrame * CFrame.new(0, 0, -2)
        end
    end
end)

-- === PESTAÑA SHERIFF ===
tabSheriff:AddSwitch("Noclip", function(state)
    toggleNoclip(state)
end)

tabSheriff:AddSwitch("ESP Cazador", function(state)
    clearESP()
    if state then
        murderer = findMurderer()
        if murderer then
            createESP(murderer, Color3.fromRGB(255, 0, 0), "MURDERER")
        end
    end
end)

-- NUEVA FUNCIÓN: Traer SOLO al Cazador hacia ti (Sheriff)
tabSheriff:AddButton("Traer al Cazador hacia mí", function()
    murderer = findMurderer()
    if murderer and murderer.Character and murderer.Character:FindFirstChild("HumanoidRootPart") 
       and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
        
        local myHrp = player.Character.HumanoidRootPart
        local murdererHrp = murderer.Character.HumanoidRootPart
        -- Lo pone justo delante de ti (8 studs adelante de donde miras)
        murdererHrp.CFrame = myHrp.CFrame * CFrame.new(0, 0, -8)
    end
end)

tabSheriff:AddButton("TP atrás del Cazador", function()
    murderer = findMurderer()
    if murderer and murderer.Character and murderer.Character:FindFirstChild("HumanoidRootPart") then
        local hrp = player.Character.HumanoidRootPart
        local targetHrp = murderer.Character.HumanoidRootPart
        hrp.CFrame = targetHrp.CFrame * CFrame.new(0, 0, 5)
    end
end)

tabSheriff:AddSwitch("Aimbot (al Cazador)", function(state)
    aimbotInocentesEnabled = state
    if state then
        aimbotInocentesConn = RunService.RenderStepped:Connect(function()
            if aimbotInocentesEnabled then
                murderer = findMurderer()
                if murderer and murderer.Character and murderer.Character:FindFirstChild("Head") then
                    Camera.CFrame = CFrame.new(Camera.CFrame.Position, murderer.Character.Head.Position)
                end
            end
        end)
    else
        if aimbotInocentesConn then aimbotInocentesConn:Disconnect() end
    end
end)

-- Actualizar roles
task.spawn(function()
    while true do
        murderer = findMurderer()
        sheriff = findSheriff()
        task.wait(1.5)
    end
end)