-- CARGA DE LIBRERÍA 
local library = loadstring(game:HttpGet("https://raw.githubusercontent.com/EL-INDIGO15/dyros/refs/heads/main/libreria"))() 

-- OBTENER NOMBRE DEL JUGADOR 
local player = game.Players.LocalPlayer 
local displayName = player.DisplayName or player.Name 

-- OPCIONES DE LA VENTANA
local options = {
    main_color = Color3.fromRGB(220, 20, 60),
    min_size = Vector2.new(600, 820),
    can_resize = false,
}

-- VENTANA PRINCIPAL
local window = library:AddWindow("HadesHub | Bienvenid@ I love you " .. displayName, options)

-- ANIMACIÓN DE COLOR (igual que antes)
local colores = {
    Color3.fromRGB(220, 20, 60),
    Color3.fromRGB(255, 102, 102),
    Color3.fromRGB(255, 0, 0),
    Color3.fromRGB(255, 140, 0),
    Color3.fromRGB(255, 165, 0),
    Color3.fromRGB(255, 215, 0),
    Color3.fromRGB(255, 255, 0),
}

task.spawn(function()
    local indice = 1
    while true do
        local colorActual = colores[indice]
        local colorSiguiente = colores[indice % #colores + 1]
        for i = 0, 50 do
            local alpha = i / 50
            options.main_color = colorActual:Lerp(colorSiguiente, alpha)
            task.wait(0.05)
        end
        indice = indice % #colores + 1
    end
end) 

-- Servicios y variables (igual)
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local Camera = workspace.CurrentCamera

local noclipActive = false
local noclipConnection
local espHighlights = {}
local murderer = nil
local sheriff = nil
local aimbotActive = false
local autoShootActive = false
local aimbotConnection

-- (Aquí van todas las funciones que tenía antes: findMurderer, findSheriff, toggleNoclip, createESP, clearESP, getTargetHead, startAimbot, stopAimbot, autoShoot, teleportTo, etc.)
-- Las copias tal cual del script anterior, no las repito para no alargar tanto.

-- Tabs
local tabMurderer = window:AddTab("Cazador")
local tabSheriff = window:AddTab("Sheriff")
local tabInocente = window:AddTab("Inocente")

-- === TAB CAZADOR (Murderer) ===
local folderMurderer = tabMurderer:AddFolder("Funciones Cazador")

folderMurderer:AddToggle("Noclip", false, function(state) toggleNoclip(state) end)

folderMurderer:AddToggle("ESP Jugadores", false, function(state)
    clearESP()
    if state then
        for _, plr in pairs(Players:GetPlayers()) do
            if plr ~= player then
                createESP(plr, Color3.fromRGB(0, 255, 0), Color3.fromRGB(0, 150, 0), nil)
            end
        end
    end
end)

folderMurderer:AddToggle("Aimbot + Auto Disparo", false, function(state)
    aimbotActive = state
    autoShootActive = state
    if state then
        startAimbot("Murderer")
        autoShoot("Murderer")
    else
        stopAimbot()
        autoShootActive = false
    end
end)

folderMurderer:AddToggle("ESP Sheriff", false, function(state)
    clearESP()
    if state then
        sheriff = findSheriff()
        if sheriff then
            createESP(sheriff, Color3.fromRGB(0, 0, 255), Color3.fromRGB(0, 0, 150), "SHERIFF")
        end
    end
end)

-- Para TP a jugadores puedes agregar un button simple o un dropdown si quieres seleccionar
folderMurderer:AddButton("Actualizar Roles (por si acaso)", function()
    murderer = findMurderer()
    sheriff = findSheriff()
end)

-- === TAB SHERIFF ===
local folderSheriff = tabSheriff:AddFolder("Funciones Sheriff")

folderSheriff:AddToggle("Noclip", false, function(state) toggleNoclip(state) end)

folderSheriff:AddToggle("ESP Cazador", false, function(state)
    clearESP()
    if state then
        murderer = findMurderer()
        if murderer then
            createESP(murderer, Color3.fromRGB(255, 0, 0), Color3.fromRGB(150, 0, 0), "MURDERER")
        end
    end
end)

folderSheriff:AddButton("TP atrás del Cazador", function()
    murderer = findMurderer()
    if murderer and murderer.Character and murderer.Character:FindFirstChild("HumanoidRootPart") then
        local pos = murderer.Character.HumanoidRootPart.Position
        teleportTo(pos - (murderer.Character.HumanoidRootPart.CFrame.LookVector * 5))
    end
end)

folderSheriff:AddToggle("Aimbot + Auto Disparo (solo Cazador)", false, function(state)
    aimbotActive = state
    autoShootActive = state
    if state then
        startAimbot("Sheriff")
        autoShoot("Sheriff")
    else
        stopAimbot()
        autoShootActive = false
    end
end)

-- === TAB INOCENTE ===
local folderInocente = tabInocente:AddFolder("Funciones Inocente")

folderInocente:AddToggle("Noclip", false, function(state) toggleNoclip(state) end)

folderInocente:AddToggle("ESP Cazador y Sheriff", false, function(state)
    clearESP()
    if state then
        murderer = findMurderer()
        sheriff = findSheriff()
        if murderer then createESP(murderer, Color3.fromRGB(255, 0, 0), Color3.fromRGB(150, 0, 0), "MURDERER") end
        if sheriff then createESP(sheriff, Color3.fromRGB(0, 0, 255), Color3.fromRGB(0, 0, 150), "SHERIFF") end
    end
end)

folderInocente:AddButton("TP arriba del mapa", function()
    local char = player.Character
    if char and char:FindFirstChild("HumanoidRootPart") then
        char.HumanoidRootPart.CFrame = char.HumanoidRootPart.CFrame + Vector3.new(0, 200, 0)
    end
end)

folderInocente:AddToggle("Aimbot (al Cazador)", false, function(state)
    aimbotActive = state
    if state then
        startAimbot("Innocent")
    else
        stopAimbot()
    end
end)

-- Actualización de roles cada 2 segundos
task.spawn(function()
    while true do
        murderer = findMurderer()
        sheriff = findSheriff()
        task.wait(2)
    end
end)