-- CARGA DE LIBRER√çA 
local library = loadstring(game:HttpGet("https://raw.githubusercontent.com/EL-INDIGO15/dyros/refs/heads/main/libreria"))() 

-- OBTENER NOMBRE DEL JUGADOR 
local player = game.Players.LocalPlayer 
local displayName = player.DisplayName or player.Name 

-- OPCIONES DE LA VENTANA
local options = {
    main_color = Color3.fromRGB(220, 20, 60),
    min_size = Vector2.new(600, 820),
    can_resize = false,
}

-- VENTANA PRINCIPAL
local window = library:AddWindow("HadesHub | Bienvenid@ I love you " .. displayName, options)

-- ANIMACI√ìN DE COLOR
local colores = {
    Color3.fromRGB(220, 20, 60),
    Color3.fromRGB(255, 102, 102),
    Color3.fromRGB(255, 0, 0),
    Color3.fromRGB(255, 140, 0),
    Color3.fromRGB(255, 165, 0),
    Color3.fromRGB(255, 215, 0),
    Color3.fromRGB(255, 255, 0),
}

task.spawn(function()
    local indice = 1
    while true do
        local colorActual = colores[indice]
        local colorSiguiente = colores[indice % #colores + 1]
        for i = 0, 50 do
            local alpha = i / 50
            options.main_color = colorActual:Lerp(colorSiguiente, alpha)
            task.wait(0.05)
        end
        indice = indice % #colores + 1
    end
end) 

-- Servicios
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local Camera = workspace.CurrentCamera

-- Variables globales
local noclipEnabled = false
local noclipLoop
local espHighlights = {}
local murderer = nil
local sheriff = nil
local aimbotInocentesEnabled = false
local aimbotSheriffEnabled = false
local aimbotInocentesConn
local aimbotSheriffConn

-- Encontrar Murderer
local function findMurderer()
    for _, plr in pairs(Players:GetPlayers()) do
        if plr ~= player and plr.Character then
            local backpack = plr:FindFirstChild("Backpack")
            local char = plr.Character
            if (backpack and backpack:FindFirstChild("Knife")) or (char and char:FindFirstChild("Knife")) then
                return plr
            end
        end
    end
    return nil
end

-- Encontrar Sheriff
local function findSheriff()
    for _, plr in pairs(Players:GetPlayers()) do
        if plr ~= player and plr.Character then
            local backpack = plr:FindFirstChild("Backpack")
            local char = plr.Character
            if (backpack and (backpack:FindFirstChild("Gun") or backpack:FindFirstChild("Revolver"))) or 
               (char and (char:FindFirstChild("Gun") or char:FindFirstChild("Revolver"))) then
                return plr
            end
        end
    end
    return nil
end

-- Noclip
local function toggleNoclip(state)
    noclipEnabled = state
    if state then
        noclipLoop = RunService.Stepped:Connect(function()
            if player.Character then
                for _, part in pairs(player.Character:GetDescendants()) do
                    if part:IsA("BasePart") then
                        part.CanCollide = false
                    end
                end
            end
        end)
    else
        if noclipLoop then noclipLoop:Disconnect() end
    end
end

-- ESP
local function createESP(targetPlr, color, labelText)
    if targetPlr and targetPlr.Character then
        local highlight = Instance.new("Highlight")
        highlight.FillColor = color
        highlight.OutlineColor = color:Lerp(Color3.new(0,0,0), 0.5)
        highlight.FillTransparency = 0.3
        highlight.OutlineTransparency = 0
        highlight.Adornee = targetPlr.Character
        highlight.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
        highlight.Parent = targetPlr.Character
        table.insert(espHighlights, highlight)

        if labelText then
            local hrp = targetPlr.Character:FindFirstChild("HumanoidRootPart")
            if hrp then
                local bill = Instance.new("BillboardGui")
                bill.Adornee = hrp
                bill.Size = UDim2.new(0, 100, 0, 40)
                bill.StudsOffset = Vector3.new(0, 3, 0)
                bill.AlwaysOnTop = true
                bill.Parent = hrp

                local text = Instance.new("TextLabel")
                text.Size = UDim2.new(1,0,1,0)
                text.BackgroundTransparency = 1
                text.Text = labelText .. "\n" .. targetPlr.Name
                text.TextColor3 = color
                text.TextScaled = true
                text.Font = Enum.Font.SourceSansBold
                text.Parent = bill
            end
        end
    end
end

local function clearESP()
    for _, hl in pairs(espHighlights) do
        if hl then hl:Destroy() end
    end
    espHighlights = {}
end

-- Aimbot a Inocentes
local function startAimbotInocentes()
    aimbotInocentesConn = RunService.RenderStepped:Connect(function()
        if not aimbotInocentesEnabled then return end
        murderer = findMurderer()
        sheriff = findSheriff()
        local closest = nil
        local closestDist = math.huge
        for _, plr in pairs(Players:GetPlayers()) do
            if plr ~= player and plr.Character and plr.Character:FindFirstChild("Head") then
                if plr ~= murderer and plr ~= sheriff then
                    local dist = (plr.Character.Head.Position - Camera.CFrame.Position).Magnitude
                    if dist < closestDist then
                        closestDist = dist
                        closest = plr.Character.Head
                    end
                end
            end
        end
        if closest then
            Camera.CFrame = CFrame.new(Camera.CFrame.Position, closest.Position)
        end
    end)
end

local function stopAimbotInocentes()
    if aimbotInocentesConn then aimbotInocentesConn:Disconnect() end
end

-- Aimbot al Sheriff
local function startAimbotSheriff()
    aimbotSheriffConn = RunService.RenderStepped:Connect(function()
        if not aimbotSheriffEnabled then return end
        sheriff = findSheriff()
        if sheriff and sheriff.Character and sheriff.Character:FindFirstChild("Head") then
            Camera.CFrame = CFrame.new(Camera.CFrame.Position, sheriff.Character.Head.Position)
        end
    end)
end

local function stopAimbotSheriff()
    if aimbotSheriffConn then aimbotSheriffConn:Disconnect() end
end

-- CREAR TABS PRIMERO
local tabCazador = window:AddTab("Cazador")
local tabSheriff = window:AddTab("Sheriff")
local tabplayer = window:AddTab("player")

-- === PESTA√ëA CAZADOR ===
tabCazador:AddSwitch("Noclip", function(state) toggleNoclip(state) end)

tabCazador:AddSwitch("ESP Jugadores", function(state)
    clearESP()
    if state then
        for _, plr in pairs(Players:GetPlayers()) do
            if plr ~= player then createESP(plr, Color3.fromRGB(0, 255, 0), nil) end
        end
    end
end)

tabCazador:AddSwitch("ESP Sheriff", function(state)
    clearESP()
    if state then
        sheriff = findSheriff()
        if sheriff then createESP(sheriff, Color3.fromRGB(0, 100, 255), "SHERIFF") end
    end
end)

tabCazador:AddSwitch("Aimbot a Inocentes", function(state)
    aimbotInocentesEnabled = state
    if state then
        startAimbotInocentes()
        if aimbotSheriffEnabled then aimbotSheriffEnabled = false; stopAimbotSheriff() end
    else
        stopAimbotInocentes()
    end
end)

tabCazador:AddSwitch("Aimbot al Sheriff", function(state)
    aimbotSheriffEnabled = state
    if state then
        startAimbotSheriff()
        if aimbotInocentesEnabled then aimbotInocentesEnabled = false; stopAimbotInocentes() end
    else
        stopAimbotSheriff()
    end
end)

tabCazador:AddButton("TP atr√°s del Sheriff", function()
    sheriff = findSheriff()
    if sheriff and sheriff.Character and sheriff.Character.HumanoidRootPart then
        player.Character.HumanoidRootPart.CFrame = sheriff.Character.HumanoidRootPart.CFrame * CFrame.new(0, 0, 5)
    end
end)

-- === PESTA√ëA SHERIFF ===
tabSheriff:AddSwitch("Noclip", function(state) toggleNoclip(state) end)

tabSheriff:AddSwitch("ESP Cazador", function(state)
    clearESP()
    if state then
        murderer = findMurderer()
        if murderer then createESP(murderer, Color3.fromRGB(255, 0, 0), "MURDERER") end
    end
end)

tabSheriff:AddButton("TP atr√°s del Cazador", function()
    murderer = findMurderer()
    if murderer and murderer.Character and murderer.Character.HumanoidRootPart then
        player.Character.HumanoidRootPart.CFrame = murderer.Character.HumanoidRootPart.CFrame * CFrame.new(0, 0, 5)
    end
end)

tabSheriff:AddSwitch("Aimbot al Cazador", function(state)
    if state then
        aimbotInocentesConn = RunService.RenderStepped:Connect(function()
            murderer = findMurderer()
            if murderer and murderer.Character and murderer.Character:FindFirstChild("Head") then
                Camera.CFrame = CFrame.new(Camera.CFrame.Position, murderer.Character.Head.Position)
            end
        end)
    else
        if aimbotInocentesConn then aimbotInocentesConn:Disconnect() end
    end
end)

-- Actualizar roles cada 1.5 segundos
task.spawn(function()
    while true do
        murderer = findMurderer()
        sheriff = findSheriff()
        task.wait(1.5)
    end
end)

--  BOT√ìN DE SUPER VELOCIDAD 
local speedConnection
local resetConnection

tabplayer:AddSwitch("super velocidad", function(enabled)
    local Players = game:GetService("Players")
    local RunService = game:GetService("RunService")
    local player = Players.LocalPlayer
    
    -- Limpia conexiones previas para evitar leaks
    if speedConnection then
        speedConnection:Disconnect()
        speedConnection = nil
    end
    if resetConnection then
        resetConnection:Disconnect()
        resetConnection = nil
    end
    
    if enabled then
        -- ON: Fuerza WalkSpeed alta cada frame (anti-reset del servidor)
        speedConnection = RunService.Heartbeat:Connect(function()
            local character = player.Character
            if character then
                local humanoid = character:FindFirstChildOfClass("Humanoid")
                if humanoid then
                    humanoid.WalkSpeed = 128  -- x8 velocidad (¬°superr√°pido! Cambia a 100/200 si quieres)
                end
            end
        end)
        
        -- Tambi√©n boost JumpPower para volar un poco
        task.spawn(function()
            while speedConnection do
                local character = player.Character
                if character then
                    local humanoid = character:FindFirstChildOfClass("Humanoid")
                    if humanoid then
                        humanoid.JumpPower = 100  -- Salto alto
                    end
                end
                task.wait(0.5)
            end
        end)
        
        print("[SpeedHack] ¬°Activado! Corre como Flash ")
        game.StarterGui:SetCore("SendNotification", {
            Title = "HadesHub",
            Text = "¬°Super Velocidad ACTIVADA! (x8)",
            Duration = 3
        })
    else
        -- OFF: Resetea inmediatamente y en respawns futuros
        local character = player.Character
        if character then
            local humanoid = character:FindFirstChildOfClass("Humanoid")
            if humanoid then
                humanoid.WalkSpeed = 16
                humanoid.JumpPower = 50
            end
        end
        
        -- Reset autom√°tico en nuevos personajes
        resetConnection = player.CharacterAdded:Connect(function(newChar)
            task.wait(0.2)  -- Espera carga completa
            local humanoid = newChar:WaitForChild("Humanoid", 5)
            if humanoid then
                humanoid.WalkSpeed = 16
                humanoid.JumpPower = 50
            end
        end)
        
        print("üî¥ [SpeedHack] Desactivado - Velocidad normal")
        game.StarterGui:SetCore("SendNotification", {
            Title = "HadesHub",
            Text = "Super Velocidad DESACTIVADA",
            Duration = 3
        })
    end
end)