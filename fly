-- HadesHub | Natural Disaster Survival - HadesHub Fly Modern GUI (Tema Rojo)
-- Impulso: Solo zoom out/in + efectos intensos (velocidad REAL igual) <3

-- Servicios
local Players = game:GetService("Players")
local RS = game:GetService("RunService")
local UIS = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local Camera = workspace.CurrentCamera
local player = Players.LocalPlayer

-- Variables
local FlyEnabled = false
local FlySpeed = 50
local BoostDuration = 2
local IsBoosting = false
local lastWPress = 0
local doubleTapTime = 0.3

local NormalFOV = 70
local BoostFOV = 95

local flyObjects = {}
local flyConnection

local boostParticles = {}

local function updateChar()
    local char = player.Character
    if char then
        return char:FindFirstChild("Humanoid"), char:FindFirstChild("HumanoidRootPart")
    end
end

-- FunciÃ³n Fly
local function startFly()
    local hum, hrp = updateChar()
    if not hrp or not hum then return end
    
    for _, obj in pairs(flyObjects) do if obj then obj:Destroy() end end
    flyObjects = {}
    
    local bv = Instance.new("BodyVelocity")
    bv.MaxForce = Vector3.new(1e6, 1e6, 1e6)
    bv.Velocity = Vector3.new(0,0,0)
    bv.Parent = hrp
    table.insert(flyObjects, bv)
    
    local bg = Instance.new("BodyGyro")
    bg.MaxTorque = Vector3.new(1e6, 1e6, 1e6)
    bg.P = 50000
    bg.Parent = hrp
    table.insert(flyObjects, bg)
    
    hum.PlatformStand = true
    hum.AutoRotate = false
    
    local attach0 = Instance.new("Attachment", hrp)
    attach0.Position = Vector3.new(0, 0, 3)
    table.insert(flyObjects, attach0)
    
    local attach1 = Instance.new("Attachment", hrp)
    attach1.Position = Vector3.new(0, 0, -4)
    table.insert(flyObjects, attach1)
    
    local trail = Instance.new("Trail", hrp)
    trail.Attachment0 = attach0
    trail.Attachment1 = attach1
    trail.Color = ColorSequence.new(Color3.fromRGB(255, 0, 0), Color3.fromRGB(255, 100, 100))  -- Rojo intenso a rojo claro
    trail.Transparency = NumberSequence.new(0.1, 1)
    trail.Lifetime = 1.5
    trail.FaceCamera = true
    table.insert(flyObjects, trail)
    
    local pe = Instance.new("ParticleEmitter", attach1)
    pe.Texture = "rbxassetid://241650934"
    pe.Lifetime = NumberRange.new(0.5, 1)
    pe.Rate = 400
    pe.Speed = NumberRange.new(50, 100)
    pe.Color = ColorSequence.new(Color3.fromRGB(255, 0, 0))
    pe.LightEmission = 1
    pe.Enabled = true
    table.insert(flyObjects, pe)
    
    local windPE = Instance.new("ParticleEmitter", hrp)
    windPE.Texture = "rbxassetid://243660364"
    windPE.Lifetime = NumberRange.new(0.3, 0.6)
    windPE.Rate = 600
    windPE.Speed = NumberRange.new(150, 300)
    windPE.SpreadAngle = Vector2.new(360, 360)
    windPE.Color = ColorSequence.new(Color3.fromRGB(255, 255, 255, 0.6))
    windPE.Transparency = NumberSequence.new(0.2, 1)
    windPE.Size = NumberSequence.new(1, 4)
    windPE.Acceleration = Vector3.new(0, 0, -100)
    windPE.Drag = 15
    windPE.LightEmission = 0.8
    windPE.Enabled = true
    table.insert(flyObjects, windPE)
    
    local boomSound = Instance.new("Sound", hrp)
    boomSound.SoundId = "rbxassetid://184104494"
    boomSound.Volume = 0.6
    boomSound.Looped = true
    boomSound:Play()
    table.insert(flyObjects, boomSound)
    
    flyConnection = RS.RenderStepped:Connect(function()
        if not FlyEnabled then return end
        local hum2, hrp2 = updateChar()
        if not hrp2 or not hum2 then return end
        
        local cam = workspace.CurrentCamera
        local move = hum2.MoveDirection
        
        local currentSpeed = FlySpeed
        
        local vel = Vector3.new(0, 0, 0)
        if move.Magnitude > 0 then
            vel = cam.CFrame.LookVector * currentSpeed
        end
        
        if UIS:IsKeyDown(Enum.KeyCode.Space) then
            vel = vel + Vector3.new(0, currentSpeed, 0)
        end
        if UIS:IsKeyDown(Enum.KeyCode.LeftShift) then
            vel = vel - Vector3.new(0, currentSpeed, 0)
        end
        
        bv.Velocity = vel
        bg.CFrame = cam.CFrame * CFrame.Angles(math.rad(-85), 0, 0)
    end)
end

local function stopFly()
    if flyConnection then flyConnection:Disconnect() end
    for _, obj in pairs(flyObjects) do if obj then obj:Destroy() end end
    for _, obj in pairs(boostParticles) do if obj then obj:Destroy() end end
    flyObjects = {}
    boostParticles = {}
    local hum = updateChar()
    if hum then 
        hum.PlatformStand = false
        hum.AutoRotate = true
    end
    IsBoosting = false
    TweenService:Create(Camera, TweenInfo.new(0.3), {FieldOfView = NormalFOV}):Play()
end

local function activateBoost()
    if not FlyEnabled or IsBoosting then return end
    
    IsBoosting = true
    
    TweenService:Create(Camera, TweenInfo.new(0.3, Enum.EasingStyle.Quint), {FieldOfView = BoostFOV}):Play()
    
    local hrp = updateChar() and player.Character:FindFirstChild("HumanoidRootPart")
    if hrp then
        local extraPE = Instance.new("ParticleEmitter", hrp)
        extraPE.Texture = "rbxassetid://241650934"
        extraPE.Lifetime = NumberRange.new(0.4, 0.8)
        extraPE.Rate = 800
        extraPE.Speed = NumberRange.new(200, 400)
        extraPE.Color = ColorSequence.new(Color3.fromRGB(255, 100, 100))
        extraPE.LightEmission = 1
        extraPE.Transparency = NumberSequence.new(0.3, 1)
        extraPE.Size = NumberSequence.new(2, 5)
        extraPE.Enabled = true
        table.insert(boostParticles, extraPE)
        
        local extraWind = Instance.new("ParticleEmitter", hrp)
        extraWind.Texture = "rbxassetid://243660364"
        extraWind.Lifetime = NumberRange.new(0.2, 0.4)
        extraWind.Rate = 1000
        extraWind.Speed = NumberRange.new(300, 500)
        extraWind.SpreadAngle = Vector2.new(360, 360)
        extraWind.Color = ColorSequence.new(Color3.fromRGB(255, 100, 100))
        extraWind.Transparency = NumberSequence.new(0.1, 0.8)
        extraWind.Size = NumberSequence.new(3, 8)
        extraWind.Enabled = true
        table.insert(boostParticles, extraWind)
    end
    
    task.delay(BoostDuration, function()
        if IsBoosting then
            IsBoosting = false
            TweenService:Create(Camera, TweenInfo.new(0.5, Enum.EasingStyle.Quint), {FieldOfView = NormalFOV}):Play()
            for _, obj in pairs(boostParticles) do if obj then obj:Destroy() end end
            boostParticles = {}
        end
    end)
end

UIS.InputBegan:Connect(function(input, gp)
    if gp then return end
    if input.KeyCode == Enum.KeyCode.W and FlyEnabled then
        local time = tick()
        if time - lastWPress < doubleTapTime then
            activateBoost()
        end
        lastWPress = time
    end
end)

-- GUI con tema rojo
local gui = Instance.new("ScreenGui")
gui.Name = "HadesHubFly"
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

local mainButton = Instance.new("TextButton")
mainButton.Size = UDim2.new(0, 70, 0, 70)
mainButton.Position = UDim2.new(1, -80, 0.5, -35)
mainButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)  -- BotÃ³n principal rojo
mainButton.Text = "ðŸ¦¸ðŸ»"
mainButton.TextColor3 = Color3.new(1,1,1)
mainButton.TextSize = 40
mainButton.Font = Enum.Font.SourceSansBold
mainButton.BorderSizePixel = 0
mainButton.Parent = gui

local mainCorner = Instance.new("UICorner")
mainCorner.CornerRadius = UDim.new(1, 0)
mainCorner.Parent = mainButton

local mainGlow = Instance.new("ImageLabel")
mainGlow.Size = UDim2.new(1.5, 0, 1.5, 0)
mainGlow.Position = UDim2.new(-0.25, 0, -0.25, 0)
mainGlow.BackgroundTransparency = 1
mainGlow.Image = "rbxassetid://4996784993"
mainGlow.ImageColor3 = Color3.fromRGB(255, 0, 0)  -- Glow rojo
mainGlow.ImageTransparency = 0.4
mainGlow.Parent = mainButton

-- ... (el resto del GUI se mantiene igual, solo cambian los colores morados a rojos donde aparecen)

local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 40)
title.BackgroundTransparency = 1
title.Text = "HadesHub Fly"
title.TextColor3 = Color3.fromRGB(255, 0, 0)  -- TÃ­tulo en rojo
title.Font = Enum.Font.SourceSansBold
title.TextSize = 24
title.Parent = panel

-- El resto del cÃ³digo GUI y funciones es idÃ©ntico al anterior (solo cambiÃ© los colores morados)

print("Â¡HadesHub Fly (Tema Rojo) cargado!")